<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <!-- 2021-07-26 Mon 14:13 -->
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8" />
  <meta name="viewport" content=
  "width=device-width, initial-scale=1" />
  <title>‎</title>
  <meta name="author" content="Casper van Elteren" />
  <meta name="generator" content="Org Mode" />
  <style>
  <![CDATA[
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  ]]>
  </style>
</head>
<body>
  <div id="content" class="content">
    <div id="table-of-contents" role="doc-toc">
      <h2>Table of Contents</h2>
      <div id="text-table-of-contents" role="doc-toc">
        <ul>
          <li><a href="#org35a92ef">1. Introduction</a></li>
          <li><a href="#org5175528">2. Outline</a></li>
          <li><a href="#orgf383381">3. ESP32</a></li>
          <li>
            <a href="#org8197867">4. Matrix scanning</a>
            <ul>
              <li><a href="#org7f90a48">4.1. Ghosting</a></li>
              <li><a href="#org568dcef">4.2. Key
              debouncing</a></li>
              <li><a href="#orgf4b69a0">4.3. Changelog</a></li>
            </ul>
          </li>
          <li>
            <a href="#orgf6b98bb">5. Modifier keys</a>
            <ul>
              <li><a href="#orgb96b821">5.1. Changes</a></li>
            </ul>
          </li>
          <li>
            <a href="#orga9a0554">6. ESP-Now</a>
            <ul>
              <li><a href="#orgdba2de7">6.1. Mesh interface
              class</a></li>
              <li><a href="#org57582de">6.2. Changes</a></li>
            </ul>
          </li>
          <li>
            <a href="#org04468b5">7. Bluetooth</a>
            <ul>
              <li><a href="#orgf2d0ba1">7.1. TODO</a></li>
            </ul>
          </li>
          <li><a href="#org685bc1e">8. OLED Display</a></li>
          <li><a href="#orgfe19935">9. Battery control</a></li>
          <li><a href="#org48fffad">10. Weird notes</a></li>
        </ul>
      </div>
    </div>
    <div id="outline-container-org35a92ef" class="outline-2">
      <h2 id="org35a92ef"><span class="section-number-2">1.</span>
      Introduction</h2>
      <div class="outline-text-2" id="text-1">
        <p><span class="timestamp-wrapper"><span class=
        "timestamp">&lt;2021-06-21 Mon&gt;</span></span> Mechanical
        keyboards are somewhat of a dated concept that has gathered
        some speed in more recent years. Back when computers were
        first coming out for the public, keyboards had mechanical
        connections that would allow a current to activate a
        switch. Then as economics got wind, somehow we got used to
        membrane keyboards; virtually every office in the world has
        these membrane keyboards. Compared to mechanical keyboards,
        membrane keyboards feel more “mushy”. In contrast,
        mechanical keyboards may have different feel based on the
        springs or whether the key switch has a noticeable “bump”.
        They can be clicky or not; the possibility are wild
        now.</p>
        <p>A few years ago I started following the subreddit on
        mechanical keyboards. Back then, the community had little
        options and cherry still had patents on the switches.
        Cherry MX keys were virtually found in every commercial
        keyboard on the market. Now, the landscape has changed
        quite a bit and more and more different types of switches
        are available.</p>
        <p>Why do I prefer mechanical keyboards? Mechanical
        keyboards give a “joy” to typing. Membrane keyboards are
        fine to type on, but they aren’t fun. Generally my fingers
        get “tired” after typing on membrane keyboards as the keys
        feel a bit mushy, i.e. you get no relief when pushing down
        a key and the key press does not feel crisp.</p>
        <p>After following / r / mechanicalkeyboards for a while, I
        decided to <i>build</i> my own keyboard. Within the
        community, there is a wide variety of switches and shapes
        of keyboards available. The one I wanted, an orthonormal
        keyboard, wasn’t commercially available. Plus I liked the
        idea of building my own keyboard. In my work, the keyboard
        is my primary tool and why not key a custom version of it
        for myself. I ended up building 2 handwired versions of 65
        percent with 85 switches in a grid layout. In addition, I
        modded a MagSafe-inspired cable to it which allowed it to
        be nice and portable. After every build I told myself : “
        This is the last one I’ll build”.</p>
        <p>Enter this blog, where I again tell myself “this is the
        last one I build!”. What changed? Since I learned about
        split-style keyboard, I always wanted one. The keyboards I
        had made so far weren’t. Split would be completely
        ergonomical, but unfortunately, none (that I know of)
        exists that are both (a) wireless and (b) split. As always
        I aimed to high and wanted to emulate the many features
        that QMK implements. Most importantly, I wanted to get back
        into writing more low level languages like c++, and I take
        this project as a nice opportunity to get into c++ again,
        and work with micro-controllers.</p>
        <p>This post will serve as my log for building the
        keyboard. The post will updated as I work on it.</p>
        <p>Core feature targets</p>
        <ul class="org-ul">
          <li>Split <span class="underline">wireless</span>
          keyboard</li>
          <li>Hot swappable key sockets</li>
          <li>Portable, not a full keyboard</li>
          <li>Battery control</li>
          <li>OLED display</li>
          <li>Rotary encoders</li>
        </ul>
      </div>
    </div>
    <div id="outline-container-org5175528" class="outline-2">
      <h2 id="org5175528"><span class="section-number-2">2.</span>
      Outline</h2>
      <div class="outline-text-2" id="text-2">
        <p>The keyboard is split; it has two halves. The right and
        left half will have most of the same “base” functionality.
        Most importantly, each half needs to scan the matrix to
        obtain which keys are being pressed. One of the halves will
        act as a server, the other will act as a client. The server
        will need the following capabilities</p>
        <p>Server abilities</p>
        <ul class="org-ul">
          <li>Read matrix</li>
          <li>Setup a bluetooth connection
            <ul class="org-ul">
              <li>HID Device</li>
              <li>Mouse emulation</li>
            </ul>
          </li>
          <li>Setup connection with client
            <ul class="org-ul">
              <li>Merge keys pressed and send to bluetooth
              controller</li>
            </ul>
          </li>
          <li>Control LEDs on both client and server</li>
        </ul>
        <p>Client abilities</p>
        <ul class="org-ul">
          <li>Read matrix</li>
          <li>Find server and send pressed keys to server</li>
        </ul>
        <p>Due to the heavier load of the server, I prefer to make
        the role of who is server and who is client dynamic. That
        is, with some heuristic (for example deep sleep), the roles
        may switch to prolong batter life of both units.</p>
        <p>To give a course overview consider the following
        picture:</p>
        <div id="org27e05d1" class="figure">
          <p><img src="./figures/overview.png" class="img" /></p>
        </div>
      </div>
    </div>
    <div id="outline-container-orgf383381" class="outline-2">
      <h2 id="orgf383381"><span class="section-number-2">3.</span>
      ESP32</h2>
      <div class="outline-text-2" id="text-3">
        <p><span class="timestamp-wrapper"><span class=
        "timestamp">&lt;2021-07-12 Mon&gt;</span></span>- I opted
        for a micro-controller as this would allow me to prototype
        without worrying about my electronic skills. The controller
        needed to have battery control, bluetooth, and preferable
        an energy efficient screen; I ended up with an esp32.</p>
        <p>The esp32 is a hybrid chip that has both Wi-Fi and
        bluetooth capabilities. The esp32 consists of different
        versions that varies in (mainly) in the number of pins,
        battery connector, and or screen. The version I ended with
        (LORA-V2) had a battery connector and a tiny OLED
        screen.</p>
        <p>The ecosystem of ESP32 is well-developed albeit less
        convenient than its arduino counterparts. Luckily, the
        opensource community has taken it upon themselves to
        provide lots of arduino bindings to the libraries by
        espressif (manufacturer of esp32).</p>
        <p>Especially important (as it turned out later) is that
        the esp32 has the capabilities of using both Wi-Fi and
        bluetooth low energy simultanaously. In addition, through
        ESP-NOW, different eps32 modules can form a mesh, which I
        will harness to do server-client communication.</p>
        <div id="orgd5884e1" class="figure">
          <p><img src="./figures/pinout.jpg" alt=
          "pinout.jpg" /></p>
          <p><span class="figure-number">Figure 1:</span> Pin-out
          ESP32 LORA-V2</p>
        </div>
      </div>
    </div>
    <div id="outline-container-org8197867" class="outline-2">
      <h2 id="org8197867"><span class="section-number-2">4.</span>
      Matrix scanning</h2>
      <div class="outline-text-2" id="text-4">
        <p><span class="timestamp-wrapper"><span class=
        "timestamp">&lt;2021-07-12 Mon&gt;</span></span> A keyboard
        matrix scanning circuit is used to enhance the number of
        keys, while keeping the number of pins low. A
        micro-controller uses general pin input/output (GPIO) to
        register currents. If a singular key switch is wired to a
        single pin, 96 pins would be needed for a 104 sized
        keyboard (full-size). This would be unpractical.</p>
        <p>As an alternative one could apply matrix scanning. In
        this method, the keys are wired as a grid where each column
        connects to each row effectively forming a “switch”. For a
        total for 100 keys, one would need 10x10 grid. The grid
        acts as a force multiplier for the number of switches.
        Instead of needing 100 separate keys, we merely need 10
        rows and 10 columns (20 pins) to wire our 100 switch
        keyboard.</p>
        <p>The matrix is repeatedly scanned to determine if a row
        column form an open circuit. That is, if a key switch is
        pressed down, current can flow between the row and column.
        The scanning occurs at a high scan rate, making it
        seemingly instantaneous.</p>
      </div>
      <div id="outline-container-org7f90a48" class="outline-3">
        <h3 id="org7f90a48"><span class=
        "section-number-3">4.1.</span> Ghosting</h3>
        <div class="outline-text-3" id="text-4-1">
          <p>Matrix scanning forms an excellent idea to efficiently
          represent our electronic switches. However, merely
          scanning does not correctly records all key presses.
          Under some conditions, a matrix can record ghost keys,
          i.e. keys that are registered but not pressed. This
          process is called ghosting.</p>
          <p>Ghosting occurs when current can freely flow between
          separate rows or columns due to another row/column being
          open. For example consider a simple two row, two column
          keyboard. This board can support 4 keys. When two keys
          along the diagonal are pressed, we register 4 keys(!).
          This is obviously wrong and needs to be corrected. The
          most common approach is to put a diode right after the
          switch either on the columns or rows, which prevents
          current from traversing and causing ghosting.</p>
          <div id="orgb65ad5a" class="figure">
            <p><img src="./figures/ghosting.png" alt=
            "ghosting.png" /></p>
            <p><span class="figure-number">Figure 2:</span>
            Ghosting example. Ghosting occurs when current can flow
            freely across columns and rows. (Left) one key is
            pressed down bottom left. (Middle) A key across from
            the first is activated which causes ghosting (right);
            current flows from the second row, first column to the
            second row, second column etc.</p>
          </div>
        </div>
      </div>
      <div id="outline-container-org568dcef" class="outline-3">
        <h3 id="org568dcef"><span class=
        "section-number-3">4.2.</span> Key debouncing</h3>
        <div class="outline-text-3" id="text-4-2">
          <p>Key debounce is a mechanism to filter out erroneous
          key activity. When two metal plates come into contact,
          the signal does not form a clean square wave. In order to
          clean up this signal, key debouncing is used to reflect
          the “press” of key switch.</p>
        </div>
      </div>
      <div id="outline-container-orgf4b69a0" class="outline-3">
        <h3 id="orgf4b69a0"><span class=
        "section-number-3">4.3.</span> Changelog</h3>
        <div class="outline-text-3" id="text-4-3">
          <ul class="org-ul">
            <li class="on">
              <code>[X]</code> Added matrix class
              <ul class="org-ul">
                <li class="on"><code>[X]</code> added matrix
                scan</li>
                <li class="on"><code>[X]</code> added key
                debounce</li>
                <li class="on">
                  <code>[X]</code> added (whole) matrix debounce
                  <ul class="org-ul">
                    <li class="on"><code>[X]</code> filters out
                    erronenous keypresses</li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div id="outline-container-orgf6b98bb" class="outline-2">
      <h2 id="orgf6b98bb"><span class="section-number-2">5.</span>
      Modifier keys</h2>
      <div class="outline-text-2" id="text-5">
        <p><span class="timestamp-wrapper"><span class=
        "timestamp">&lt;2021-07-26 Mon&gt;</span></span> My initial
        implementation measures the onset of keys. That is,
        debounce worked by measuring when the “square wave” of the
        key was pressed. This allows for fast and accurate
        detection detecting key press down. Initially my intentions
        was to merge the other keys together such that multiple
        keys are registered at the same time. For example, the
        shift key needs to register two keys at minimum to shift
        the ascii code around for let’s say `a` to `A`.</p>
        <p>Consequently, I need to both register the key press down
        as well as the key release; I modified the debounce
        mechanism to also detect the key release.</p>
      </div>
      <div id="outline-container-orgb96b821" class="outline-3">
        <h3 id="orgb96b821"><span class=
        "section-number-3">5.1.</span> Changes</h3>
        <div class="outline-text-3" id="text-5-1">
          <ul class="org-ul">
            <li class="on"><code>[X]</code> Change key detection.
            Register key press and key release</li>
            <li class="on"><code>[X]</code> Mesh buffer management
            is moved out of the keyboard class.</li>
            <li class="on"><code>[X]</code> Fixed wrong indexing in
            reading the active keys on the server.</li>
          </ul>
        </div>
      </div>
    </div>
    <div id="outline-container-orga9a0554" class="outline-2">
      <h2 id="orga9a0554"><span class="section-number-2">6.</span>
      ESP-Now</h2>
      <div class="outline-text-2" id="text-6">
        <p>The two halves need to communicate to eachother. There
        is only one half that is connected through bluetooth to
        another device. We call this the server, and the other the
        client. Keys pressed on the client needs to be communicated
        to the server which processes the keys, and sends it over
        bluetooth. Luckily, ESP-now offers a mesh interface we can
        utilize for this purpose. This is easier to setup than a
        bluetooth mesh interface and should be relatively secure
        for foreign attackers. From the website we read:</p>
        <blockquote>
          nil
        </blockquote>
      </div>
      <div id="outline-container-orgdba2de7" class="outline-3">
        <h3 id="orgdba2de7"><span class=
        "section-number-3">6.1.</span> Mesh interface class</h3>
        <div class="outline-text-3" id="text-6-1">
          <p>The mesh class is responsible for:</p>
          <ul class="org-ul">
            <li>Setup / deinit the ESP-now connection</li>
            <li>Holding a buffer that is sent over the ESP-now
            connection. The buffer holds information that needs to
            be communicated between each halves.</li>
          </ul>
          <p>At the moment of writing, the mesh class holds a
          static buffer which holds `keyswitch<sub>t</sub>`. These
          are structs containing when the last time the pins were
          read as active. In addition, it contains information on
          the source and sinc pins, and column and row indices.
          These last two are used to index into the final keymap on
          the server side. This way, no actual key information is
          send, but the server reads the key from the col and row,
          then they are combined. This solves the issue of sending
          ascii shifted codes or media keys.</p>
        </div>
      </div>
      <div id="outline-container-org57582de" class="outline-3">
        <h3 id="org57582de"><span class=
        "section-number-3">6.2.</span> Changes</h3>
        <div class="outline-text-3" id="text-6-2">
          <ul class="org-ul">
            <li class="on"><code>[X]</code> Implemented mesh
            interface class</li>
            <li class="on"><code>[X]</code> Added server
            capabilities to join the keys from both half and
            communicate through bluetooth</li>
          </ul>
        </div>
      </div>
    </div>
    <div id="outline-container-org04468b5" class="outline-2">
      <h2 id="org04468b5"><span class="section-number-2">7.</span>
      Bluetooth</h2>
      <div class="outline-text-2" id="text-7">
        <p>Bluetooth is rather complicated. The Bluetooth class
        takes care of most of the heavy lifting. Key codes have an
        associated ascii code, these are put into an ascii code
        map. Note that the over bluetooth (for whatever reason)
        these keycodes are remapped to different numbers.</p>
      </div>
      <div id="outline-container-orgf2d0ba1" class="outline-3">
        <h3 id="orgf2d0ba1"><span class=
        "section-number-3">7.1.</span> TODO</h3>
        <div class="outline-text-3" id="text-7-1">
          <ul class="org-ul">
            <li class="off"><code>[&nbsp;]</code> Write a bind
            method that combines input from both halves and pushes
            them into a uint8 buffer.</li>
            <li class="off">
              <code>[&nbsp;]</code> Write the layouts to a static
              const array
              <ul class="org-ul">
                <li class="off"><code>[&nbsp;]</code> Evaluate
                whether it is nicer to put separate key pins ids to
                the switch</li>
              </ul>
            </li>
            <li class="off"><code>[&nbsp;]</code> Convert config to
            static class</li>
          </ul>
        </div>
      </div>
    </div>
    <div id="outline-container-org685bc1e" class="outline-2">
      <h2 id="org685bc1e"><span class="section-number-2">8.</span>
      OLED Display</h2>
    </div>
    <div id="outline-container-orgfe19935" class="outline-2">
      <h2 id="orgfe19935"><span class="section-number-2">9.</span>
      Battery control</h2>
    </div>
    <div id="outline-container-org48fffad" class="outline-2">
      <h2 id="org48fffad"><span class="section-number-2">10.</span>
      Weird notes</h2>
      <div class="outline-text-2" id="text-10">
        <ul class="org-ul">
          <li>Pressing down a key repeatedly and then another key
          afterwards, stops sending the initially pressed down key.
          For example holding down `a` and then pressing any other
          key (including modifies) stops sending `a`.</li>
          <li>Figure out bug where `-` is sent repeatedly. This
          occurs especially when sending `a` key. I think it is
          related to the ascii code for for `a` and `-`.</li>
          <li>Figure out bug where ’up arrow’ is sent repeatedly.
          This occurs when the keyboard is connected to bluetooth.
          No keys are send on my part.</li>
        </ul>
      </div>
    </div>
  </div>
  <div id="postamble" class="status">
    <p class="author">Author: Casper van Elteren</p>
    <p class="date">Created: 2021-07-26 Mon 14:13</p>
  </div>
</body>
</html>
